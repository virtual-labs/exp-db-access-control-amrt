:root{--radius: 12px;--radius-sm: 8px;--bg-primary: #ffffff;--bg-subtle: #f8fafc;--text-primary: #1e293b;--text-secondary: #64748b;--border-color: #e2e8f0}.learning-workspace-card{background:linear-gradient(135deg,#f8fafc,#e0f2fe);padding:1.3rem 1rem;border-radius:16px;margin-bottom:-1rem;border:1.5px solid #2563eb;box-shadow:0 6px 16px #2563eb26;text-align:center;justify-self:center;animation:fadeIn .5s ease-in-out;transition:all .3s ease;font-weight:700}.role-assignment{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;background:#fff;border:1.8px solid #e0e0e0;border-radius:12px;padding:13px 20px;margin:12px auto;box-shadow:0 2px 6px #0b244714;transition:all .3s ease;width:90%;max-width:400px;text-align:center}.role-assignment:hover{border-color:#20c0a4;box-shadow:0 4px 10px #20c0a426}.role-assignment-dropdown{display:flex;align-items:center;justify-content:center;gap:10px;width:100%}.role-assignment-dropdown select{flex:1;max-width:250px;padding:8px 12px;border:2px solid #20c0a4;border-radius:8px;font-size:14.5px;font-weight:500;color:#0b2447;background-color:#fff;cursor:pointer;outline:none;transition:all .25s ease}.role-assignment-dropdown select:hover{border-color:#17a98f}.role-assignment-dropdown select:focus{border-color:#0b2447;box-shadow:0 0 6px #0b244740}.remove-role-button{background-color:#fff;color:#b22222;border:2px solid #f0dcdc;border-radius:50%;font-size:1rem;font-weight:700;width:32px;height:32px;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;justify-content:center}.remove-role-button:hover{background-color:#ffefef;border-color:#e98a8a;color:#a11919;transform:scale(1.05)}.role-permissions-summary{display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin-top:6px}.mini-perm{background-color:#20c0a4;color:#fff;padding:4px 10px;border-radius:8px;font-size:12.5px;font-weight:500;box-shadow:0 1px 4px #20c0a440;transition:all .25s ease}.mini-perm:hover{background-color:#96c0fa;transform:scale(1.05)}.input-group{display:flex;flex-direction:column;margin-bottom:16px}.input-label{font-size:15px;font-weight:600;color:#0b2447;margin-bottom:6px}.select-wrapper{position:relative;display:inline-block;width:100%}.custom-select{width:100%;padding:10px 14px;font-size:15px;color:#333;border:2px solid #20c0a4;border-radius:8px;background-color:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;transition:all .3s ease;cursor:pointer}.custom-select:after{content:"▼";position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none}.custom-select:hover{border-color:#17a98f}.custom-select:focus{border-color:#0b2447;box-shadow:0 0 6px #0b244733}.custom-select option{color:#333;background:#fff}.input-group{display:flex;flex-direction:column;margin-right:10px}.input-group label{font-size:.85rem;color:#334155;margin-bottom:4px;font-weight:600}.user-input-row input{padding:6px 8px;border:1px solid #cbd5e1;border-radius:6px;font-size:.9rem}.add-user-container{display:flex;justify-content:center;align-items:center;margin-bottom:10px}.add-user-card{background:linear-gradient(135deg,#fff 60%,#f8faff);padding:12px 30px;border-radius:16px;box-shadow:0 4px 14px #0000001a;width:100%;max-width:900px;transition:all .3s ease}.add-user-card:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001f}.add-user-card h3{font-size:14px;color:#1a237e;text-align:center;margin-bottom:18px;font-weight:700;letter-spacing:.5px}.user-input-row{display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap}.user-input-row input{flex:1;min-width:150px;padding:10px 12px;border:1px solid #b0bec5;border-radius:8px;font-size:14px;transition:all .3s ease}.user-input-row input:focus{border-color:#4f46e5;outline:none;box-shadow:0 0 0 3px #4f46e533}.user-input-row button{background:linear-gradient(135deg,#4f46e5,#764ba2);color:#fff;padding:10px 18px;font-size:14px;font-weight:600;border:none;border-radius:8px;cursor:pointer;white-space:nowrap;transition:all .3s ease}.user-input-row button:hover{background:linear-gradient(135deg,#3e3ab5,#633b92);transform:scale(1.03)}.add-role-card{margin-bottom:5px;background:#fff;padding:4px 35px;border-radius:16px;box-shadow:0 4px 10px #0000001a;width:400px;text-align:center;transition:all .3s ease}.add-role-card:hover{transform:translateY(-3px);box-shadow:0 6px 15px #00000026}.add-role-card h3{font-size:14px;color:#0b2447;margin-bottom:20px}.input-button-row{display:flex;gap:5px}.input-button-row input{flex:1;padding:12px;border:1px solid #ccc;border-radius:10px;font-size:12px;transition:all .3s ease}.input-button-row input:focus{border-color:#f4f5f5;outline:none;box-shadow:0 0 0 3px #20c0a433}.input-button-row button{background-color:#764ba2;color:#fff;padding:12px 18px;font-size:12px;font-weight:500;border:none;border-radius:10px;cursor:pointer;transition:background .3s ease,transform .2s ease}.input-button-row button:hover{background-color:#764ba2;transform:scale(1.02)}.highlight-text{font-weight:700;color:#f5664d;background-color:#f5f4f1;padding:0 4px;border-radius:4px}.user-card.wrong-assigned{border-color:#ef4444;background:#fee2e2}.user-card.correct-assigned{border-color:#10b981;background:#dcfce7}.assigned-role.invalid{background:#ef4444!important;color:#fff!important;animation:shake .5s ease-in-out}.check-button:disabled{background:#ef4444;cursor:not-allowed}.alert-message{background:#c2ffa6;color:#0d3102;border:1px solid #ffffff;border-radius:var(--radius-sm);padding:1rem;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem;font-weight:500;animation:slide-down .3s ease}.alert-icon{color:#15750d}.role-build-card.has-invalid{border-color:#ef4444;background:#fee2e2}.user-hint{display:flex!important;align-items:center!important;gap:.5rem!important;font-size:.875rem!important;color:#1a365d!important;margin:.75rem 0!important;padding:.75rem!important;background-color:#ebf8ff!important;border-radius:4px!important;border:1px solid #90cdf4!important;width:calc(100% - 2rem)!important;position:relative!important;z-index:1!important}.user-hint .hint-icon{color:#3b82f6!important;flex-shrink:0!important}.user-hint span{flex:1!important;line-height:1.4!important;font-weight:500!important}.user-metadata{padding:8px;margin:8px 0;background:#f8fafc;border-radius:4px}.user-department{margin-bottom:8px;font-size:14px}.department-label{font-weight:600;color:#475569}.hint-container{margin-top:8px;border-top:1px solid #e2e8f0;padding-top:8px}.hint-label{font-weight:600;color:#475569;margin-bottom:4px;font-size:14px}.hint-content{display:flex;align-items:flex-start;gap:8px;padding:8px;background:#e0f2fe;border-radius:4px;color:#0369a1;font-size:14px;line-height:1.4}.permission-chip.invalid{background:#ef4444!important;color:#fff!important;animation:shake .5s ease-in-out}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.invalid-drop-message{margin-top:auto;padding:.75rem;background:#fef2f2;border:1px solid #fecaca;border-radius:var(--radius-sm);color:#991b1b;font-size:.875rem;display:flex;align-items:center;gap:.5rem;animation:slide-down .3s ease}.error-icon{color:#ef4444}.check-roles-button:disabled{background:#ef4444;cursor:not-allowed}.sandbox-container{max-width:100%;width:100vw;margin:0;padding:1rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:0;box-shadow:none;display:flex;flex-direction:column}.phase-card{background:#fff;border-radius:var(--radius);padding:.4rem;margin-bottom:1.5rem;text-align:center;box-shadow:0 4px 6px #0000001a;width:100%;max-width:1350px}.phase-card-header{display:flex;align-items:center;position:relative;margin-bottom:.4rem}.phase-card-header .phase-title{flex-grow:1;text-align:center}.phase-card-reset-button{position:absolute;right:0;margin-right:20px;margin-top:20px}.phase-card-reset-button{padding:.4rem .8rem;background:#ef4444;color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;cursor:pointer;transition:all .2s ease;font-size:.9rem;white-space:nowrap}.phase-card-reset-button:hover{background:#dc2626;transform:translateY(-1px)}.phase-instructions{display:flex;align-items:center;gap:.9rem;background:linear-gradient(135deg,#e6fffa,#f0fdfa);padding:.9rem 1rem;border-radius:12px;margin:.5rem auto;border:1.5px solid #20C0A4;max-width:950px;text-align:left;box-shadow:0 4px 12px #0b244726;font-family:Inter,Poppins,sans-serif;color:#0b2447;font-size:1rem;line-height:1.6;animation:fadeIn .4s ease-in-out;transition:all .3s ease}.phase-instructions:hover{transform:translateY(-2px);box-shadow:0 6px 16px #2563eb2e;background:linear-gradient(135deg,#f0f9ff,#e0f2fe)}.phase-instructions strong{color:#1d4ed8;font-weight:600;font-size:1rem}.phase{padding:.5rem 1rem;background:var(--bg-subtle);font-size:.9rem;color:var(--text-secondary);transition:all .3s ease}.phase.active{background:#3b82f6;color:#fff;transform:scale(1.05)}.game-workspace{flex:1;display:flex;flex-direction:column;align-items:center;padding:0rem 0;min-height:0}.learning-workspace{background:#f7f7f7;border-radius:var(--radius);padding:3rem;box-shadow:0 4px 6px #0000001a;width:100%;max-width:1650px;display:flex;flex-direction:column;align-items:center;gap:1.5rem}.assigning-workspace-content{width:100%;max-width:1400px;margin:0 auto}.assigning-workspace{background:#fff;border-radius:var(--radius);padding:2rem;box-shadow:0 4px 6px #0000001a;width:100%;max-width:1350px;display:grid;grid-template-columns:350px 1fr;gap:1.5rem}.learning-columns{display:flex;gap:4rem;width:90%}.permissions-source{background:#fff;margin-left:40px;padding:1rem;border-radius:var(--radius);box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column;max-width:300px;flex:0 0 300px;flex-shrink:0}.permissions-source h3{margin:0 0 1rem;color:var(--text-primary)}.permissions-pool{display:grid;gap:.5rem;margin-bottom:1.5rem;flex-grow:1}.permission-draggable{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:var(--radius-sm);font-size:.95rem;font-weight:500;cursor:grab;transition:all .2s ease}.permission-draggable:hover{transform:translate(4px);box-shadow:0 4px 8px #667eea4d}.permission-draggable:active{cursor:grabbing}.permission-legend{background:var(--bg-subtle);padding:1rem;border-radius:var(--radius-sm);border:1px solid var(--border-color)}.permission-legend h4{margin:0 0 .5rem;color:var(--text-secondary);font-size:.9rem}.permission-legend ul{margin:0;padding-left:1.2rem;font-size:.8rem;color:var(--text-secondary)}.permission-legend li{margin-bottom:.25rem}.roles-builder{background:#f7f7f7;padding:1.9rem;border-radius:var(--radius);box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column;flex:1;max-width:1000px}.roles-builder h3{margin:0 0 1rem;color:var(--text-primary)}.roles-build-grid{display:flex;flex-wrap:nowrap;overflow-x:auto;gap:1rem;margin-bottom:2rem;flex-grow:1;padding-bottom:10px;-webkit-overflow-scrolling:touch}.roles-build-grid::-webkit-scrollbar{height:8px}.roles-build-grid::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.roles-build-grid::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.roles-build-grid::-webkit-scrollbar-thumb:hover{background:#555}.role-build-card{background:#fff;border:2px solid var(--border-color);border-radius:var(--radius-sm);padding:.5rem;transition:all .3s ease;min-height:200px;display:flex;flex-direction:column}.role-build-card.correct{border-color:#10b981;background:#dcfce7}.role-build-card.incorrect{border-color:#ef4444;background:#fee2e2}.role-build-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-weight:600}.role-description{font-size:.8rem;color:var(--text-secondary);font-style:italic;margin-bottom:1rem;padding:.5rem;background:var(--bg-subtle);border-radius:var(--radius-sm)}.permissions-drop-area{min-height:150px;background:var(--bg-subtle);border:2px dashed #cbd5e1;border-radius:var(--radius-sm);padding:.75rem;transition:all .2s ease;flex:1;margin:1rem 0;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;gap:.5rem}.permissions-drop-area.drag-over,.role-build-card.drag-over .permissions-drop-area{border-color:#3b82f6;background:#eff6ff;transform:scale(1.02)}.drop-placeholder{color:var(--text-secondary);font-style:italic;text-align:center;padding:1rem}.dropped-permissions{display:flex;flex-wrap:wrap;gap:.5rem}.permission-chip{padding:.25rem .75rem!important;background:#3b82f6!important;color:#fff!important;border-radius:99px!important;font-size:.8rem!important;font-weight:500!important}.permission-chip.removable{cursor:pointer;transition:all .2s ease}.permission-chip.removable:hover{background:#ef4444}.role-hint{margin-top:.75rem;padding:.75rem;background:#fef3c7;border-radius:var(--radius-sm);border:1px solid #fbbf24;animation:slide-down .3s ease;font-size:.875rem}.hint-label{display:block;font-size:.85rem;color:#92400e;margin-bottom:.5rem;font-weight:600}.hint-permissions{display:flex;flex-wrap:wrap;gap:.25rem}.hint-perm{padding:.2rem .5rem;background:#fbbf24;color:#78350f;border-radius:99px;font-size:.75rem}.status-icon{margin-left:auto;animation:pop-in .3s ease}.status-icon.correct{color:#10b981}.status-icon.incorrect{color:#ef4444}.learning-actions{display:flex;gap:1rem;justify-content:center;align-items:center;margin-top:auto}.check-roles-button{padding:1rem 3rem;background:#3b82f6;color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;cursor:pointer;transition:all .2s ease;font-size:1rem}.check-roles-button:hover:not(:disabled){background:#2563eb;transform:translateY(-2px)}.check-roles-button:disabled{background:#cbd5e1;cursor:not-allowed}.proceed-button{display:flex;align-items:center;gap:.5rem;padding:1rem 3rem;background:#288504;color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1rem}.proceed-button.animated{animation:pulse 2s infinite}.proceed-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #10b98166}.game-column{background:#fff;border-radius:var(--radius);padding:1.5rem;box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column}.column-header{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1rem;color:var(--text-primary);padding-bottom:1rem;border-bottom:2px solid var(--border-color);margin-bottom:1.5rem;flex-shrink:0}.roles-list{display:grid;gap:.75rem;flex-grow:1;overflow-y:auto}.users-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;padding:0rem;margin-bottom:1rem;overflow-y:auto;flex-grow:1;background:#f9fafb!important;border-radius:1rem;box-shadow:0 4px 8px #0b244714;scrollbar-width:none;-ms-overflow-style:none}.user-card{display:flex;flex-direction:column;background:#fff;border:2px solid transparent;border-radius:.9rem;padding:1rem;box-shadow:0 2px 6px #0000000d;transition:all .25s ease;cursor:grab}.user-card:hover{transform:translateY(0);box-shadow:0 4px 12px #0b24471f;border-color:#022db8}.user-header{display:flex;align-items:center;justify-content:space-between;color:#0b2447;font-weight:600;margin-bottom:.5rem}.user-name{flex:1;color:#0b2447}.user-department{font-size:1.4rem;color:#4b5563;margin-bottom:.25rem}.user-hint{font-size:1rem;color:#6b7280;margin-bottom:.8rem}.role-drop-zone{background:#f3f4f6;border:2px dashed #cbd5e1;border-radius:.6rem;padding:1rem;text-align:center;color:#6b7280;font-size:1rem!important;transition:all .2s ease;min-height:80px;min-width:220px;display:flex;align-items:center;justify-content:center;margin:0 auto}.role-drop-zone:hover{background:#e6fdf9;border-color:#20c0a4}.assigned-role-container{display:flex;align-items:center;gap:.5rem;background:#f9fafb;padding:.4rem .6rem;border-radius:.6rem;border:1px solid #e5e7eb;transition:all .3s ease}.assigned-role{display:flex;align-items:center;gap:.4rem;background:#e0f7f4;color:#0b2447;padding:.35rem .75rem;border-radius:8px;font-size:14px;font-weight:600;border:1px solid #20c0a4;transition:background .3s ease,transform .2s ease}.assigned-role.invalid{background:#ffeaea;color:#b91c1c;border:1px solid #f87171}.role-name{white-space:nowrap}.remove-role-button{background-color:#fff;color:#8b4b4b;cursor:pointer;font-size:1.3rem;font-weight:700;padding:4px 10px;line-height:1;border:none;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .25s ease;box-shadow:0 2px 5px #00000014;min-width:32px;height:32px}.remove-role-button:hover{background-color:#f88d89;color:#b91c1c;transform:scale(1.08)}.remove-role-button:focus{outline:2px solid #ef4444;outline-offset:2px}.role-assignment-dropdown{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;position:relative}.role-assignment-dropdown select{flex:1;padding:.5rem .75rem;border:1px solid #cbd5e1;border-radius:var(--radius-sm);background:#fff;font-size:.9rem;font-weight:500;color:var(--text-primary);cursor:pointer;transition:all .2s ease;min-height:32px}.role-assignment-dropdown select:focus{border-color:#3b82f6;outline:none;box-shadow:0 0 0 3px #3b82f61a}.role-assignment-dropdown select:disabled{background:#f1f5f9;cursor:not-allowed}.role-assignment-dropdown select option{padding:.5rem;background:#fff}.role-assignment-dropdown .remove-role-button{flex-shrink:0;margin-left:.5rem}.assigned-role{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;background:#20c0a4;color:#fff;padding:.4rem .6rem;border-radius:.5rem;font-size:1rem;font-weight:600}.assigned-role.invalid{background:#ef4444}.check-icon.correct{color:#22c55e}.correct-answer-hint{margin-top:.5rem;font-size:.95rem;color:#0b2447;background:#e6fdf9;border-radius:.4rem;padding:.4rem}.invalid-drop-message{display:flex;align-items:center;gap:.3rem;color:#ef4444;font-size:.95rem;margin-top:.4rem}.error-icon{flex-shrink:0}.users-grid::-webkit-scrollbar{display:none}.back-button{display:flex;align-items:center;justify-content:center;gap:.5rem;flex-shrink:0;width:100%;padding:.75rem 1.5rem;background:linear-gradient(135deg,#a78bfa,#7c3aed);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;font-size:14px}.back-button:hover{background:linear-gradient(135deg,#9f7aea,#6d28d9);transform:translateY(-1px)}.back-button:active{transform:translateY(0)}.check-button{flex-shrink:0;width:100%;padding:.95rem 1.5rem;background:#3b82f6;color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease}.check-button:hover:not(:disabled){background:#2563eb;transform:translateY(-2px)}.check-button:disabled{background:#cbd5e1;cursor:not-allowed}.role-card{background:#e7e4f8;border:2px solid var(--border-color);border-radius:var(--radius-sm);padding:.8rem;transition:all .25s ease-in-out;cursor:default;box-shadow:0 2px 6px #0000000d}.role-card.draggable{cursor:grab}.role-card.draggable:active{cursor:grabbing}.role-card.draggable:hover{transform:translateY(+1px);box-shadow:0 4px 12px #0000001f;border-color:#0034e0}.role-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-weight:600}.role-name{color:var(--text-primary);font-size:.95rem;font-weight:600}.role-permissions-summary{display:flex;flex-wrap:wrap;gap:.25rem;margin-top:.5rem}.mini-perm{margin-top:10px;padding:.5rem .4rem;background:#cfe9f1;color:#4338ca;border:1px solid #3b82f6;border-radius:99px;font-size:.8rem;font-weight:500}.mini-perm.more{background:#fbbf24;color:#78350f}.user-card{background:var(--bg-subtle);border:2px solid var(--border-color);border-radius:var(--radius-sm);padding:.5rem;transition:all .3s ease}.user-card.correct{border-color:#2910b9;background:#dcfce7}.user-card.incorrect{border-color:#ef4444;background:#fee2e2}.user-header{display:flex;align-items:center;margin-bottom:.5rem;font-weight:600}.user-name{flex:1;color:var(--text-primary)}.user-department{background:#3b82f6;color:#fff;padding:.2rem .5rem;border-radius:99px;font-size:.85rem;font-weight:500;margin-bottom:.3rem}.user-hint{color:var(--text-secondary);font-size:.95rem;font-style:italic;margin-bottom:.75rem}.role-drop-zone{min-height:50px;background:#fff;border:2px dashed #cbd5e1;border-radius:var(--radius-sm);padding:.75rem;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.drag-over{border-color:#3b82f6!important;background:#eff6ff!important;transform:scale(1.02)}.drop-hint{color:var(--text-secondary);font-style:italic}.assigned-role{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fbbf24;color:#78350f;border-radius:99px;font-weight:600}.correct-answer-hint{margin-top:.5rem;padding:.5rem;background:#fef3c7;border-radius:var(--radius-sm);color:#92400e;font-size:.85rem;text-align:center;animation:slide-down .3s ease}.check-icon{animation:pop-in .3s ease}.check-icon.correct{color:#10b981}.check-icon.incorrect{color:#ef4444}.completion-screen{width:100%;max-width:1350px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;height:700px}.completion-card{background:#fff;border-radius:var(--radius);padding:2rem;text-align:center;box-shadow:0 10px 30px #0000001a;animation:pop-in .5s ease;max-width:500px;width:100%}.success-icon{color:#10b981;margin-bottom:1rem}.completion-card h2{color:var(--text-primary);margin:0 0 1rem}.completion-card p{color:var(--text-secondary);margin:0 0 2rem}.next-button{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;cursor:pointer;transition:all .3s ease;font-size:1.1rem;width:auto}.next-button:hover{transform:scale(1.05);box-shadow:0 8px 20px #667eea99}@keyframes pop-in{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes slide-down{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@media (max-width: 1200px){.learning-columns{flex-direction:column;gap:2rem;width:100%}.permissions-source{max-width:none;margin-left:0}.roles-builder{max-width:none}.learning-workspace{padding:1rem}}@media (max-width: 1400px){.sandbox-container{padding:.5rem}.learning-workspace,.assigning-workspace,.completion-screen{max-width:100%;height:auto;min-height:600px}.learning-workspace{flex-direction:column;gap:.5rem;padding:.5rem;height:auto;align-items:center;justify-content:flex-start}.permissions-source{max-width:none;order:2;height:auto;flex:none}.roles-builder{order:1;height:auto;max-width:none}.assigning-workspace-content{width:100%;max-width:1400px;margin:0 auto;padding:1rem}.assigning-workspace{grid-template-columns:1fr;gap:1rem;height:auto;padding:1rem}.roles-list,.users-grid{max-height:none}.game-column{height:auto}}@media (max-width: 768px){.roles-build-grid,.users-grid{grid-template-columns:1fr}.phase-indicator{flex-direction:column;gap:.5rem}.learning-workspace{padding:.25rem}.phase-title{font-size:1rem}.phase-instructions{flex-direction:column;text-align:center}.learning-actions{flex-direction:column;width:100%}.proceed-btn,.restart-btn{width:100%;justify-content:center}.role-assignment-dropdown{flex-direction:column;align-items:stretch;gap:.75rem}.role-assignment-dropdown select{order:1}.role-assignment-dropdown .remove-role-button{order:2;margin-left:0;justify-content:center}}@media (max-width: 480px){.phase-card{padding:.5rem}.phase-title{font-size:1.1rem}.phase{padding:.4rem .8rem;font-size:.85rem}}.global-restart-button{position:fixed;top:60px;right:60px;padding:1.2rem 2.5rem;background:#ef4444;color:#fff;border:none;border-radius:var(--radius-sm);font-weight:600;font-size:1.3rem;cursor:pointer;transition:all .2s ease;z-index:1000;min-width:100px;min-height:40px}.global-restart-button:hover{background:#dc2626;transform:translateY(-2px)}.phase.clickable{cursor:pointer;transition:background-color .3s ease}.phase.clickable:hover{background-color:#0056b3}.alert-message.success{background:#10b981;color:#fff;border-color:#059669}.alert-message.success .alert-icon{color:#fff}.permissions-drop-area.drop-success,.role-build-card.role-complete{background-color:#dcfce7;border-color:#10b981}.completion-status{display:flex;align-items:center;gap:.5rem;color:#166534;font-size:.9rem;font-weight:600;margin-left:auto}.navigation-buttons{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;width:100%}.navigation-buttons .next-button,.navigation-buttons .back-button{width:auto;flex-grow:0}.user-card.highlighted-user{border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e5,0 4px 12px #94696926;transform:scale(1.02)}.assigned-roles-container{display:flex;flex-direction:column;gap:.5rem;margin-top:.75rem}.assigned-role-block{display:flex;align-items:center;gap:.5rem;background:#96c0fa;padding:.5rem;border-radius:var(--radius-sm)}.remove-role-button{background-color:#fee2e2;color:#ef4444;border:none;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.remove-role-button:hover{background-color:#ef4444;color:#fff}.role-perms{display:flex;flex-wrap:wrap;gap:.25rem;margin-top:.5rem;padding-top:.5rem;justify-content:center}.phase-card{background:#fff;border-radius:16px;padding:.2rem;margin-bottom:.8rem;text-align:center;box-shadow:0 10px 40px #0000001a;width:100%;max-width:1400px;margin-left:auto;margin-right:auto}.phase-title{margin-bottom:-1rem}.phase-title h1{font-size:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0}.phase-instructions{display:flex;align-items:center;justify-content:center;gap:.5rem;background:#eff6ff;border-radius:8px;margin:1rem auto;border:1px solid #3b82f6;max-width:800px}.phase-instructions p{margin:0;color:#1e40af;font-weight:500;text-align:left}.phase-indicator{display:flex;justify-content:center;gap:3rem;margin-top:1.5rem}.phase{padding:.75rem 1.5rem;background:#f3f4f6;border-radius:10px;font-size:.9rem;color:#6b7280;transition:all .3s ease;position:relative}.phase.active{background:#3b82f6;color:#fff;transform:scale(1.05);box-shadow:0 4px 12px #3b82f666}.phase.complete{background:#10b981;color:#fff}.phase.complete:after{content:"✓";margin-left:.5rem}.testing-header{margin-top:0}.testing-header h2{font-size:1.5rem;margin:0}.testing-container{background:linear-gradient(135deg,#667eea,#764ba2);position:relative;box-sizing:border-box;display:flex;flex-direction:column;align-items:center}.tutorial-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .3s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.tutorial-card{background:#fff;border-radius:16px;padding:2rem;max-width:500px;animation:slideUp .5s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.tutorial-card h2{margin:0 0 1.5rem;color:#1f2937;text-align:center}.tutorial-steps{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.step{display:flex;align-items:center;gap:1rem}.step-number{width:22px;height:22px;color:#0e0d0d;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.step p{margin:0;color:#4b5563}.tutorial-tip{display:flex;align-items:center;gap:.5rem;padding:1rem;background:#fef3c7;border-radius:8px;color:#92400e;margin-bottom:1.5rem}.tutorial-tip svg{flex-shrink:0}.tutorial-close{width:100%;padding:.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.tutorial-close:hover{transform:translateY(-2px);box-shadow:0 8px 16px #667eea4d}.testing-header{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 10px 40px #0000001a}.header-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem}.header-title{display:flex;align-items:center;gap:1rem}.header-title svg{color:#667eea}.header-title h1{margin:0;color:#1f2937;font-size:1.75rem}.header-title p{margin:0;color:#6b7280;font-size:.875rem}.header-stats{display:flex;gap:1rem}.stat-card{display:flex;align-items:center;gap:.75rem;padding:.75rem 1.25rem;background:#f9fafb;border-radius:12px;border:2px solid transparent;transition:all .3s ease}.stat-card.granted{border-color:#10b981;background:#d1fae5}.stat-card.denied{border-color:#ef4444;background:#fee2e2}.stat-card.security{border-color:#667eea;background:#ede9fe}.stat-card svg{color:inherit}.stat-value{display:block;font-size:1.5rem;font-weight:700;color:#1f2937}.stat-label{display:block;font-size:.75rem;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.testing-main-content{margin:0 auto;padding:1rem}.learning-outcome{grid-column:1 / -1;grid-row:1;align-self:start;background:linear-gradient(135deg,#f8fafc,#e0f2fe);padding:1rem;border-radius:16px;margin-bottom:-1rem;border:1.5px solid #2563eb;box-shadow:0 6px 16px #2563eb26;text-align:center;justify-self:center;animation:fadeIn .5s ease-in-out;transition:all .3s ease}.learning-outcome p{font-size:1rem;line-height:1.4;color:#334155;margin:0;font-weight:700}.learning-outcome:hover{transform:translateY(-3px);box-shadow:0 8px 20px #2563eb40}.testing-main{display:grid;grid-template-columns:300px 1fr 320px;grid-template-areas:"header header header" "users testing history";grid-template-rows:auto 1fr;gap:1.5rem;margin:0 auto 2rem;max-width:1500px;flex-grow:1;padding:2rem;background:#fff;border-radius:16px}.users-panel{grid-area:users;background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 10px 40px #0000001a}.users-panel h2{margin:0 0 1rem;color:#1f2937;font-size:1.25rem}.users-list{display:flex;flex-direction:column;gap:.75rem}.user-card{display:flex;align-items:flex-start;gap:1rem;padding:.75rem 1rem;background:#e9e4ff;border:2px solid #c3dcfc;border-radius:12px;cursor:pointer;transition:all .3s ease;position:relative}.user-card:hover{background:#fff;box-shadow:0 4px 12px #0000001a;transform:translate(4px)}.user-card.selected{background:#fff;box-shadow:0 8px 16px #667eea33;border-color:#667eea}.user-avatar{font-size:2rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:12px;flex-shrink:0}.user-info{flex:1;display:flex;flex-direction:column;gap:.25rem}.user-name-title{display:flex;align-items:baseline;gap:.5rem}.user-info h3{margin:0;color:#1f2937;font-size:1rem}.user-title{font-weight:700;color:#1a09ff;font-size:.95rem;margin:0}.user-department{margin:0;color:#fff;font-size:1rem;font-style:italic}.user-role{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .85rem;background-color:#ffd600;color:#000;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase;align-self:flex-start;max-width:fit-content;box-shadow:0 2px 5px #00000026;transition:transform .2s ease,box-shadow .2s ease;cursor:default}.user-role:hover{transform:scale(1.05);box-shadow:0 3px 8px #0003}.user-description{margin:.25rem 0 0;color:#fff;font-size:.875rem;line-height:1.4;background-color:#1909ffa6;padding:.5rem .75rem;border-radius:6px}.user-permissions{position:absolute;top:.5rem;right:.5rem}.permission-count{font-size:.75rem;color:#9ca3af}.testing-area{grid-area:testing;background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 10px 40px #0000001a}.action-selector h2{margin:0 0 1rem;color:#1f2937;font-size:1.25rem}.actions-grid{display:grid;grid-template-columns:repeat(3,minmax(230px,1fr));gap:1rem;margin-bottom:2rem}.action-card{display:flex;align-items:center;gap:1rem;padding:1rem;background:#e9e4ff;border:2px solid transparent;border-radius:12px;cursor:pointer;transition:all .3s ease}.action-card:hover{background:#fff;box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.action-card.selected{background:#fff;box-shadow:0 8px 16px #667eea33}.action-content{flex:1}.action-content-header{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.5rem}.action-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff}.risk-badge{padding:.25rem .5rem;border-radius:20px;font-size:.625rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.risk-badge.risk-low{background:#d1fae5;color:#065f46}.risk-badge.risk-medium{background:#dbeafe;color:#1e40af}.risk-badge.risk-high{background:#fed7aa;color:#92400e}.risk-badge.risk-critical{background:#fee2e2;color:#991b1b}.action-card h3{margin:0 0 .2rem;color:#1f2937;font-size:.9375rem}.action-desc{margin:0 0 .75rem;color:#0c3992;font-size:.75rem;line-height:1.4}.action-impact{margin:0 0 .5rem;color:#0d3881;font-size:.75rem;font-style:italic}.action-meta{margin:0 0 .5rem;display:flex;align-items:center;gap:.25rem;color:#05204e;font-size:.85rem}.test-controls{display:flex;flex-direction:column;gap:1rem}.test-button{padding:1rem 2rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1.125rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease}.test-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 12px 24px #667eea4d}.test-button:disabled{opacity:.5;cursor:not-allowed}.test-button .spinning{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.test-preview{padding:1rem;background:#f3f4f6;border-radius:8px}.preview-content{display:flex;align-items:center;gap:.75rem;justify-content:center}.preview-user,.preview-action{font-weight:600;color:#1f2937}.permission-check-animation{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.checking-label{font-size:.875rem;color:#6b7280;text-align:center}.permission-dots{display:flex;gap:.5rem;justify-content:center}.perm-dot{width:24px;height:24px;background:#e5e7eb;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#10b981;font-weight:700}.perm-dot.checking{animation:checkPulse 1s ease-out;background:#10b981;color:#fff}@keyframes checkPulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.result-display{padding:1.5rem;border-radius:12px;display:flex;align-items:center;gap:1rem;animation:slideIn .5s ease-out;margin-top:1rem}@keyframes slideIn{0%{opacity:0}to{opacity:1}}.result-display.allowed{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.result-display.denied{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.result-icon{width:64px;height:64px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:iconBounce .5s ease-out}@keyframes iconBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}.result-content h3{margin:0 0 .5rem;font-size:1rem}.result-content p{margin:0 0 .1rem;opacity:.95}.result-action{font-style:italic;opacity:.9}.result-details{display:flex;flex-direction:column;gap:.2rem;margin:.4rem 0}.detail-row{display:flex;justify-content:space-between;padding:.2rem;background:#ffffff1a;border-radius:6px}.detail-label{font-weight:600;opacity:.9}.detail-value{text-align:right}.result-reason{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff3;border-radius:8px}.user-permissions-list{margin-top:.1rem}.permissions-label{display:block;margin-bottom:.5rem;font-weight:600;opacity:.9}.permissions-chips{display:flex;flex-wrap:wrap;gap:.5rem}.permission-chip{padding:.25rem .75rem;background:#fff3;border-radius:20px;font-size:.75rem;color:#fff}.permission-chip.matched{background:#fff6;font-weight:600}.history-panel{grid-area:history;background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 10px 40px #0000001a;display:flex;flex-direction:column;height:fit-content}.history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.history-header h2{margin:0;color:#1f2937;font-size:1.25rem}.clear-button{display:flex;align-items:center;gap:.25rem;padding:.5rem 1rem;background:#f3f4f6;border:none;border-radius:8px;color:#6b7280;font-weight:500;cursor:pointer;transition:all .3s ease}.clear-button:hover{background:#e5e7eb;color:#4b5563}.empty-history{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.empty-history svg{color:#d1d5db;margin-bottom:1rem}.empty-history p{margin:0 0 .5rem;color:#6b7280;font-weight:600}.empty-history span{color:#9ca3af;font-size:.875rem}.history-list{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:.5rem}.history-entry{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#f9fafb;border-radius:8px;border-left:3px solid transparent;animation:slideInRight .3s ease-out}@keyframes slideInRight{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}.history-entry.allowed{border-left-color:#10b981}.history-entry.denied{border-left-color:#ef4444}.entry-icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.entry-details{flex:1}.entry-main{color:#1f2937;font-size:.875rem;margin-bottom:.25rem}.entry-meta{display:flex;gap:.5rem;font-size:.75rem}.entry-role{padding:.125rem .5rem;background:#e5e7eb;border-radius:10px;color:#6b7280}.entry-time{color:#9ca3af}.entry-result{flex-shrink:0}.security-alert{display:flex;align-items:center;gap:.75rem;padding:1rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;margin-top:1rem}.security-alert svg{color:#ef4444;flex-shrink:0}.security-alert strong{display:block;color:#991b1b;margin-bottom:.25rem}.security-alert p{margin:0;color:#dc2626;font-size:.875rem}.completion-section{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 10px 40px #0000001a;text-align:center;animation:slideUp .5s ease-out;max-width:1800px;margin:0 auto 1.5rem}.completion-message{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:1.5rem}.completion-message svg{color:#f59e0b}.completion-message p{margin:0;color:#1f2937;font-size:1.125rem}.complete-button{padding:1rem 2rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease}.complete-button:hover{transform:translateY(-2px);box-shadow:0 12px 24px #10b9814d}@media (max-width: 1350px){.testing-main{grid-template-columns:320px 1fr;grid-template-areas:"users testing" "history testing";max-width:1200px}}@media (max-width: 1200px){.testing-main{grid-template-columns:1fr;grid-template-areas:"users" "testing" "history";padding:1rem}.actions-grid{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.header-content{flex-direction:column;align-items:flex-start}.header-stats{width:100%;justify-content:space-between}.actions-grid{grid-template-columns:1fr}.preview-content{flex-direction:column;gap:.5rem}.user-card{flex-direction:column;align-items:flex-start;gap:.75rem}.user-permissions{position:static;align-self:flex-end}.phase-indicator{flex-direction:column;gap:.75rem}.phase{width:100%;max-width:300px}.phase-title h1{font-size:1.4rem}.phase-instructions{flex-direction:column;text-align:center}.phase-instructions p{text-align:center}}:root{--bg-color: #e0e7ef;--card-bg: #ffffff;--card-border: #dbeafe;--text-primary: #222;--text-muted: #666;--primary: #2563eb;--primary-soft: #e0ecff;--success: #064e20;--success-soft: #dcfce7;--error: #ef4444}body{margin:0;padding:24px 16px;background-color:var(--bg-color);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;overflow-y:auto}.mac-wrapper{height:100%;width:100%;min-height:calc(100vh - 48px);padding:24px;background:linear-gradient(135deg,#4f46e5,#764ba2);box-shadow:0 8px 24px #959da533;display:flex;flex-direction:column;box-sizing:border-box}.shell-heading-card{background:linear-gradient(90deg,#e0f2ff,#e5edff);border-radius:12px;padding:12px 16px;border:1px solid var(--card-border);margin-bottom:16px;position:sticky;top:0;z-index:999}.shell-heading-card h1{margin:0 0 4px;font-size:1.5rem;font-weight:600}.shell-heading-card p{margin:0;font-size:.95rem;color:var(--text-muted)}.mac-stepper{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.mac-step{display:flex;flex-direction:column;align-items:center;min-width:120px;color:var(--text-muted);text-align:center}.mac-step-number{width:28px;height:28px;border-radius:50%;border:2px solid #cbd5e1;display:flex;align-items:center;justify-content:center;font-size:.85rem;font-weight:600;margin-bottom:6px;background-color:#fff;transition:all .2s ease-in-out}.mac-step-label{font-size:.85rem}.mac-step.current .mac-step-number{border-color:var(--primary);background-color:var(--primary);color:#fff}.mac-step.current .mac-step-label{color:var(--primary);font-weight:600}.mac-step.done .mac-step-number{border-color:var(--success);background-color:var(--success);color:#fff}.mac-step.done .mac-step-label{color:var(--success)}.mac-step-line{flex:1;height:2px;background-color:#e2e8f0;margin:0 16px;transform:translateY(-12px)}.mac-main{margin-bottom:16px;flex-grow:1}.mac-mainCardOuter{width:100%;max-width:1700px;margin:0 auto;padding:20px;box-sizing:border-box;background:#fff;border-radius:12px}.page-heading-card{width:100%;max-width:1700px;padding:16px;border-radius:12px;background:var(--card-bg);border:1px solid var(--card-border);margin:0 auto 20px;box-sizing:border-box;text-align:center}.page-heading-card h2{font-size:1.2rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 .4rem}.page-heading-card p{margin:0;font-size:.9rem;color:var(--text-muted)}.inner-grid{display:grid;gap:16px}.inner-grid-2{grid-template-columns:1fr}@media (min-width: 960px){.inner-grid-2{grid-template-columns:1fr 1fr}}.inner-grid-3{grid-template-columns:1fr}@media (min-width: 1024px){.inner-grid-3{grid-template-columns:1fr 1fr 1fr}}.inner-panel{background:var(--card-bg);border-radius:14px;border:1px solid rgba(0,0,0,.08);padding:20px 18px;box-shadow:0 4px 12px #0000000f;transition:box-shadow .25s ease,transform .2s ease}.inner-panel h3{font-size:1.2rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 .4rem;text-align:center}.mac-page1-container{max-width:900px;margin:auto}.mac-intro-panel{padding:20px;border-radius:14px;background:var(--card-bg);border:1px solid rgba(0,0,0,.08);box-shadow:0 4px 14px #00000014}.mac-intro-panel h3{text-align:center;font-size:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1.2rem;font-weight:700}.mac-concept-details h4{font-size:1.15rem;font-weight:600;margin:0 0 6px;padding-left:10px;border-left:3px solid #667eea;color:#374151}.mac-level-list{margin-top:10px}.mac-level-row{display:flex;align-items:center;margin-bottom:6px}.mac-level-dot{width:12px;height:12px;border-radius:50%;margin-right:8px}.mac-mini-list li{margin-bottom:3px;line-height:1.4}.mac-start-btn-wrap{text-align:center;margin-top:22px}.inner-panel h4{margin-top:14px;margin-bottom:6px;font-size:1.05rem;font-weight:600;color:#374151;padding-left:10px;border-left:3px solid #667eea}.mac-list{margin:8px 0 12px 20px;padding:0;font-size:.9rem;color:var(--text-muted)}.mac-list li{margin-bottom:4px}.mac-level-pills{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.mac-level-pill-btn{padding:6px 12px;border-radius:999px;border:1px solid #cbd5e1;background-color:#fff;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .2s ease}.mac-level-pill-btn:hover{border-color:var(--primary);color:var(--primary)}.mac-level-pill-btn.active{background-color:var(--primary-soft);color:var(--primary);border-color:var(--primary)}.mac-level-details{border-radius:8px;border:1px solid #e5e7eb;background-color:#fdfdff;padding:12px}.mac-level-header{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:6px}.mac-level-name{font-weight:600;font-size:1rem}.mac-level-rank{font-size:.85rem;color:var(--text-muted)}.mac-level-desc{margin:4px 0 10px;font-size:.9rem;line-height:1.5;color:var(--text-muted)}.mac-level-columns{display:grid;grid-template-columns:1fr;gap:10px}@media (min-width: 640px){.mac-level-columns{grid-template-columns:1fr 1fr}}.mac-level-col{flex:1;border-radius:8px;border:1px solid #eaf0f6;background-color:#f9fcff;padding:10px 12px}.mac-rule-tester{margin-top:16px;padding-top:16px;border-top:1px solid #e5e7eb}.mac-rule-tester h3{margin-top:0;margin-bottom:12px;font-size:1.1rem;font-weight:600}.mac-select{padding:8px 10px;border-radius:8px;border:1px solid #d1d5db;background-color:#fff;font-size:.95rem;width:100%;box-sizing:border-box}.mac-select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px var(--primary-soft)}.mac-rule-results{margin-top:16px;padding:12px;border-radius:8px;border:1px solid #e5e7eb;background-color:#f8faff}.mac-rule-results h4{margin-top:0;margin-bottom:10px;font-size:1rem;font-weight:600}.mac-result-item{display:flex;justify-content:space-between;align-items:center;font-size:.95rem;margin-bottom:4px}.mac-result-item span{font-weight:500;color:var(--text-primary)}.mac-result-item strong{font-weight:700;padding:2px 8px;border-radius:6px}.mac-result-item.allowed strong{background-color:#dcfce7;color:var(--success)}.mac-result-item.denied strong{background-color:#fef2f2;color:var(--error)}.mac-result-explanation{margin:4px 0 10px;font-size:.9rem;line-height:1.5;color:var(--text-muted)}.mac-badge{font-size:.85rem;font-weight:600;margin-bottom:6px}.mac-badge-blue{color:#2563eb}.mac-badge-orange{color:#f97316}.mac-mini-list{margin:0 0 0 16px;padding:0;font-size:.85rem;color:var(--text-muted)}.mac-mini-list li{margin-bottom:3px}.mac-concept-details{margin-top:20px;padding-top:16px;border-top:1px solid #e5e7eb}.mac-concept-details h4{margin-top:0;margin-bottom:8px;font-size:1rem;font-weight:600;color:var(--text-primary)}.mac-concept-details p{margin:0 0 10px;font-size:.9rem;line-height:1.5;color:var(--text-primary)}.assign-grid{display:grid;gap:20px;align-items:stretch}@media (min-width: 960px){.assign-grid{grid-template-columns:1.2fr 300px 1.2fr}}.assign-panel-center{display:flex;flex-direction:column;align-items:stretch;gap:12px}.mac-assign-title{margin:0 0 8px}.mac-subtext{margin:0 0 16px;font-size:.88rem;color:var(--text-muted)}.mac-assign-mainCard{max-width:1100px;max-height:80vh;overflow-y:auto}.mac-level-palette-vertical{display:flex;flex-direction:column;gap:10px;flex:1}.mac-level-pill-block{width:100%;height:30%;border-radius:12px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;color:#fff;font-weight:700;cursor:grab;box-shadow:0 6px 20px #0003;transition:all .3s cubic-bezier(.25,.8,.25,1);border:1px solid rgba(255,255,255,.3);position:relative;overflow:hidden}.mac-level-pill-block:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#ffffff1a,#fff0,#0000001a);z-index:0;pointer-events:none;border-radius:12px}.mac-level-pill-block:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 10px 30px #00000040;border-color:#ffffff80}.mac-level-pill-block:active{transform:scale(.96);box-shadow:0 4px 15px #0003;cursor:grabbing}.mac-level-pill-left{display:flex;align-items:center;gap:10px;position:relative;z-index:1}.mac-level-dot{width:12px;height:12px;border-radius:50%;background-color:#ffffffe6;flex-shrink:0}.mac-level-name-text{font-size:1rem;white-space:nowrap;position:relative;z-index:1}.mac-level-rank-text{font-size:.95rem;opacity:.9;font-weight:800;position:relative;z-index:1}.mac-center-buttons{display:flex;flex-direction:column;gap:8px;margin-top:auto}.mac-card-list{display:flex;flex-direction:column;gap:10px;flex:1}.mac-person-card,.mac-object-card{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-radius:10px;border:1px solid #e5e7eb;background-color:#fff;transition:box-shadow .2s ease,border-color .2s ease,background-color .2s ease}.mac-person-card:hover,.mac-object-card:hover{box-shadow:0 2px 8px #00000012}.mac-person-card.dropping,.mac-object-card.dropping{border-color:var(--primary);background-color:#eef6ff;box-shadow:0 0 0 2px var(--primary-soft)}.mac-person-main,.mac-object-main{display:flex;flex-direction:column}.mac-person-name,.mac-object-name{font-weight:600;font-size:.95rem}.mac-person-role,.mac-object-type{font-size:.85rem;color:var(--text-muted)}.mac-person-label,.mac-object-label{display:flex;flex-direction:column;align-items:flex-end;font-size:.82rem}.mac-person-label span:first-child,.mac-object-label span:first-child{color:var(--text-muted);margin-bottom:2px}.mac-pill-blue,.mac-pill-orange{padding:3px 10px;border-radius:999px;font-size:.8rem;font-weight:500}.mac-pill-blue{background-color:#eff6ff;color:#2563eb}.mac-pill-orange{background-color:#fff7ed;color:#f97316}.mac-person-card.unassigned,.mac-object-card.unassigned{background-color:#fff;border-color:#e5e7eb}.mac-person-card.assigned.level-4,.mac-object-card.assigned.level-4{border-color:#d32f2f;background-color:#fde8e8}.mac-person-card.assigned.level-3,.mac-object-card.assigned.level-3{border-color:#f57c00;background-color:#fff0e0}.mac-person-card.assigned.level-2,.mac-object-card.assigned.level-2{border-color:#1976d2;background-color:#e8f1fa}.mac-person-card.assigned.level-1,.mac-object-card.assigned.level-1{border-color:#388e3c;background-color:#eafaea}.mac-btn{display:inline-flex;align-items:center;justify-content:center;border-radius:8px;padding:8px 16px;font-size:.9rem;font-weight:500;cursor:pointer;border:1px solid transparent;transition:all .2s ease;text-decoration:none}.mac-btn-primary{background-color:var(--primary);color:#fff;border-color:var(--primary)}.mac-btn-primary:hover{background-color:#1d4ed8;border-color:#1d4ed8}.mac-btn-secondary{background-color:#fff;color:var(--text-muted);border:1px solid #d1d5db}.mac-btn-secondary:hover:not(:disabled){border-color:var(--primary);color:var(--primary)}.mac-btn-secondary:disabled{opacity:.6;cursor:not-allowed}.mac-btn-danger{border-color:#ef4444;color:#ef4444;background-color:#fff}.mac-btn-danger:hover{background-color:#fef2f2}.mac-btn-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}.mac-form-row{margin-bottom:12px;display:flex;flex-direction:column;gap:6px}.mac-form-row label{font-size:.9rem;color:var(--text-muted);font-weight:500}.mac-form-row select{padding:8px 10px;border-radius:8px;border:1px solid #d1d5db;background-color:#fff;font-size:.95rem}.mac-mode-toggle{display:flex;flex-wrap:wrap;gap:8px}.mac-mode-toggle button{padding:6px 12px;border-radius:8px;border:1px solid #d1d5db;background-color:#fff;font-size:.85rem;color:var(--text-muted);cursor:pointer;transition:all .2s ease}.mac-mode-toggle button:hover{border-color:var(--primary);color:var(--primary)}.mac-mode-toggle button.active{background-color:var(--primary);color:#fff;border-color:var(--primary)}.mac-run-btn{margin-top:10px;width:100%}.mac-ladder-container{position:relative;width:100%;max-width:460px;height:480px;margin:20px auto;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 8px 32px #00000014;padding:24px 16px;box-sizing:border-box;border:1.5px solid #e2e8f0;font-family:-apple-system,BlinkMacSystemFont,sans-serif}.mac-ladder-axis{position:absolute;left:50%;top:40px;bottom:70px;width:2px;background:#cbd5e1;transform:translate(-50%)}.mac-ladder-labels{position:absolute;left:20px;top:0;height:100%;width:110px;pointer-events:none}.mac-ladder-label{position:absolute;left:0;transform:translateY(-50%)}.mac-ladder-label-text{background:#fff;color:#1e293b;padding:5px 11px;border-radius:10px;font-size:.78rem;font-weight:700;border:2px solid var(--level-color);white-space:nowrap}.mac-zone{position:absolute;left:0;width:100%;opacity:.8;pointer-events:none;display:flex;align-items:center;justify-content:center}.read-allowed{background:#dbeafe}.read-denied{background:#fee2e2;top:0}.write-allowed{background:#dcfce7}.write-denied{background:#fee2e2;top:0}.zone-text{background:#fee;color:#1a1a1a;margin-top:40px;padding:6px 12px;border-radius:10px;font-size:.74rem;font-weight:700;border:1.5px solid currentColor;box-shadow:0 3px 10px #0000000f;opacity:1}.mac-combined-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:#fffffffa;display:flex;align-items:center;justify-content:center;z-index:40}.mac-combined-box{background:#fff;padding:20px 28px;border-radius:14px;text-align:center;box-shadow:0 10px 30px #0000001a;border:1px solid #e2e8f0;max-width:82%}.mac-combined-box p{margin:7px 0;font-size:.95rem}.mac-indicator{position:absolute;left:50%;display:flex;align-items:center;gap:10px;padding:10px 16px;border-radius:40px;background:#fff;color:#1e293b;font-weight:700;min-width:170px;font-size:.88rem;box-shadow:0 6px 20px #00000017;transform:translateY(-50%);border:2.5px solid var(--border-color);z-index:30}.mac-indicator svg{font-size:20px!important;color:var(--border-color)}.mac-indicator.user{--border-color: #3b82f6;transform:translate(-130%) translateY(-50%)}.mac-indicator.object{--border-color: #f97316;transform:translate(30%) translateY(-50%)}.mac-indicator-level{margin-top:3px;padding:3px 9px;border-radius:10px;font-size:.7rem;font-weight:800;background:var(--border-color);color:#fff}.mac-indicator.pulse{animation:tiny-pulse 1.3s ease-in-out infinite}@keyframes tiny-pulse{0%,to{transform:translate(-130%) translateY(-50%) scale(1)}50%{transform:translate(-130%) translateY(-50%) scale(1.03)}}.mac-connection-line{position:absolute;left:50%;transform:translate(-50%);width:6px;border-radius:3px;background:transparent;border:2px solid var(--line-color, #94a3b8);box-shadow:0 0 10px var(--line-color);z-index:10}.mac-final-result{position:absolute;bottom:20px;left:50%;transform:translate(-50%);padding:10px 22px;border-radius:40px;font-size:1.1rem;font-weight:800;color:#fff;box-shadow:0 8px 24px #0000001f;z-index:50}.mac-final-result.granted{background:#22c55e}.mac-final-result.denied{background:#ef4444}.mac-ladder-hint{text-align:center;color:#64748b;font-size:.95rem;padding:30px 16px}.mac-rule-detail{margin-top:12px}.mac-rule-block{margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #e5e7eb}.mac-rule-block:last-child{border-bottom:none;padding-bottom:0;margin-bottom:0}.mac-rule-block h4{margin:0 0 4px;font-size:.95rem}.mac-compare{margin:0 0 4px;font-size:.9rem;color:var(--text-muted)}.mac-result-box{margin-top:8px;padding:10px 12px;border-radius:8px}.mac-result-box.allowed{border:1px solid var(--success);background-color:#f0fdf4}.mac-result-box.denied{border:1px solid var(--error);background-color:#fef2f2}.mac-result-header{display:flex;flex-direction:column;gap:4px}.mac-result-status{font-weight:600;font-size:1rem}.mac-result-box.allowed .mac-result-status{color:var(--success)}.mac-result-box.denied .mac-result-status{color:var(--error)}.mac-result-action{font-size:.9rem;color:var(--text-muted)}.mac-log-section{background-color:#f3f7ff;border-radius:12px;border:1px solid var(--card-border);padding:12px 14px;margin-top:16px}.mac-log-side{margin-top:0}.mac-log-section h3{margin:0 0 4px;font-size:1.05rem}.mac-log-help{margin:0 0 8px;font-size:.88rem;color:var(--text-muted)}.mac-log-terminal{font-family:Consolas,Courier New,monospace;font-size:.88rem;background-color:#fff;border-radius:8px;border:1px solid #e5e7eb;padding:10px;max-height:400px;overflow-y:auto;margin-bottom:10px}.mac-log-terminal-page2{max-height:200px}.mac-log-empty{color:var(--text-muted);font-style:italic;padding:4px}.mac-log-entry{padding:6px 10px;border-radius:6px;margin-bottom:6px;display:flex;gap:8px;align-items:baseline}.mac-log-entry:last-child{margin-bottom:0}.mac-log-info{background-color:#eef6ff;color:#1d4ed8}.mac-log-success{background-color:#f0fdf4;color:#15803d}.mac-log-error{background-color:#fef2f2;color:#b91c1c}.mac-log-label{font-weight:700;font-size:.8rem;text-transform:uppercase}.mac-log-message{font-size:.88rem}.mac-log-clear{padding:6px 12px;font-size:.85rem}.mac-card-navigation-buttons{display:flex;align-items:center;justify-content:space-between;margin-top:20px;padding-top:16px;border-top:1px solid #e5e7eb}.mac-mini-card{flex:0 0 calc(50% - 8px);max-width:calc(50% - 8px);margin:0;box-sizing:border-box}.mac-mini-card{position:relative;padding:20px 18px;border-radius:18px;border:2px solid transparent;background:#fff;cursor:pointer;transition:all .35s cubic-bezier(.16,1,.3,1);box-shadow:0 6px 16px #0000000f,0 2px 6px #0000000a;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column;height:100%}.mac-mini-card:hover{transform:translateY(-8px) scale(1.02);border-color:var(--success)}.mac-mini-header{margin-bottom:12px}.mac-mini-name{font-weight:700;font-size:1.05rem;color:#1e293b;letter-spacing:-.2px}.mac-mini-badge{display:inline-block;padding:7px 15px;border-radius:12px;font-size:.82rem;font-weight:800;letter-spacing:.8px;text-transform:uppercase;border:2px solid;background:#fff;box-shadow:0 4px 12px #00000026;transition:all .3s ease;align-self:flex-start}.mac-mini-badge.gray{border-color:#cbd5e1;color:#64748b;background:#f8fafc}@media (max-width: 480px){.mac-mini-card-container{gap:12px;padding:12px 6px}.mac-mini-card{flex:0 0 calc(50% - 6px);max-width:calc(50% - 6px);padding:16px 14px}}.mac-mini-card-container{display:flex;flex-wrap:wrap;gap:16px;padding:12px 8px;justify-content:center;width:100%;box-sizing:border-box}.mac-mini-card,.mac-mini-card-v3{flex:0 0 calc(50% - 8px);max-width:calc(50% - 8px);margin:0;box-sizing:border-box;height:100%}.mac-mini-card,.mac-mini-card-v3{position:relative;padding:10px 18px;border-radius:18px;border:2px solid transparent;background:#fff;cursor:pointer;transition:all .35s cubic-bezier(.16,1,.3,1);box-shadow:0 6px 16px #0000000f,0 2px 6px #0000000a;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column}.mac-mini-card:hover,.mac-mini-card-v3:hover{transform:translateY(-8px) scale(1.02);border-color:var(--success);z-index:10}.mac-mini-card.selected,.mac-mini-card-v3.selected{border-color:var(--success);transform:translateY(-10px) scale(1.03);z-index:20}.mac-mini-inner{display:flex;align-items:center;justify-content:space-between;width:100%}.mac-mini-left{display:flex;align-items:center;gap:14px;flex:1}.mac-mini-icon{width:48px;height:28px;border-radius:14px;background:linear-gradient(135deg,#f0f5ff,#e0eaff);display:flex;align-items:center;justify-content:center;color:var(--primary, #2563eb);flex-shrink:0}.mac-mini-text{display:flex;flex-direction:column;gap:2px}.mac-mini-name{font-weight:700;font-size:1rem;color:#1e293b;letter-spacing:-.3px}.mac-mini-role{font-size:.82rem;color:#64748b;font-weight:500}.mac-mini-level{font-size:.82rem;color:#64748b;font-weight:500;margin-top:2px}.mac-mini-level.unassigned{color:#a0a0a0;font-style:italic}.mac-mini-badge-wrapper{flex-shrink:0}.mac-mini-level-badge{display:inline-block;padding:8px 16px;border-radius:12px;font-size:.8rem;font-weight:600;letter-spacing:.8px;text-transform:uppercase;min-width:90px;text-align:center;box-shadow:0 4px 12px #00000026}.mac-mini-level-badge.unassigned{background:#e2e8f0;color:#64748b}@media (max-width: 480px){.mac-mini-card-container{gap:12px;padding:12px 6px}.mac-mini-card,.mac-mini-card-v3{flex:0 0 calc(50% - 6px);max-width:calc(50% - 6px);padding:16px 14px}.mac-mini-icon{width:42px;height:42px}.mac-mini-icon svg{font-size:22px!important}}.mac-section-title{font-weight:700!important;font-size:1rem!important;color:#1e293b;letter-spacing:-.3px;margin-bottom:6px!important}.mac-toggle-group{display:flex;gap:10px;border-radius:16px;background:#f1f5f9;padding:2px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 2px 8px #00000014,0 2px 6px #0000000a}.mac-toggle-btn{flex:1;padding:4px 12px;border-radius:12px;border:none;background:transparent;cursor:pointer;transition:all .35s cubic-bezier(.16,1,.3,1);display:flex;flex-direction:column;align-items:center;gap:4px;font-family:inherit;position:relative;overflow:hidden}.mac-toggle-btn.selected{background:#fff;color:var(--success, #2563eb);font-weight:700;box-shadow:0 8px 24px #2563eb40,0 0 0 3px var(--success, #2563eb),0 4px 12px #0000001f;transform:translateY(-4px);z-index:10}.mac-toggle-btn:hover:not(.selected){background:#fff9;transform:translateY(-2px)}.mac-toggle-label{font-weight:700;font-size:.95rem;letter-spacing:.6px;text-transform:uppercase}.mac-toggle-sub{font-size:.74rem;font-weight:500;opacity:.8;letter-spacing:.4px}.mac-toggle-btn.selected .mac-toggle-sub{opacity:1;font-weight:600}@media (max-width: 480px){.mac-toggle-group{flex-direction:column;gap:10px;padding:8px}.mac-toggle-btn{padding:16px 12px}.mac-toggle-btn.selected{transform:translateY(0)}}.mac-add-form-row{display:flex;align-items:center;gap:12px;margin-bottom:16px}.mac-input{flex:1;margin-top:10px;padding:12px 14px;border-radius:10px;font-size:.95rem;font-weight:500;border:1.5px solid #d0d4d9;background:#fff;transition:all .25s ease;margin-right:10px;outline:none;color:#1a1a1a}.mac-add-btn{padding:10px 18px;background:#20c0a4;border:none;border-radius:10px;color:#fff;font-weight:600;cursor:pointer;transition:.25s ease}.mac-add-btn:hover{background:#18a48d}.mac-object-add-header{margin-bottom:16px;padding:3px 0}.mac-object-add-header h3{font-size:1rem;font-weight:700;margin:0 0 4px;color:#0b2447}.mac-object-add-header p{font-size:.92rem;color:#4a4f57;margin:0;line-height:1.4}.mac-highlight-box{border:1.8px solid #80bfff;background:#f4f9ff;padding:14px 18px;border-radius:10px;margin:0 auto 18px;font-size:.95rem;line-height:1.45;max-width:800px;width:100%}.mac-highlight-box p{margin:0;color:#1a1a1a;font-weight:500}.mac-highlight-orange{color:#ff5722;font-weight:700}.mac-drag-handle{margin-right:8px;cursor:grab;opacity:.8;color:#ffffffb3;transition:opacity .2s ease,color .2s ease;flex-shrink:0}.mac-level-pill-block:hover .mac-drag-handle{opacity:1;color:#fff}.mac-drag-hint{font-size:.82rem;font-weight:600;font-style:italic;color:#969393;margin-bottom:10px;margin-top:-4px}.mac-instruction{font-size:.9rem;font-weight:500;color:#1a1a1a;padding:10px 14px;background:#f7faff;border-left:4px solid #1976d2;border-radius:6px;line-height:1.5;margin-bottom:16px;box-shadow:0 2px 6px #0000000d}.mac-instruction strong{color:#0b3c91;font-weight:700}:root{--bg: #e4f5f5;--card: #ffffff;--primary: #20c0a4;--accent: #0b2447;--muted: #6b7280;--soft-purple: #7b4bff;--danger: #e25b5b;--glass: rgba(11,36,71,.04);--border-light: rgba(11,36,71,.08);--radius: 12px}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;background:var(--bg);color:var(--accent);line-height:1.6}.inline-add-group{display:flex;flex-direction:column;gap:12px}.add-item-form{display:flex;gap:10px;margin-top:10px}.styled-input{flex:1;padding:10px 12px;border:2px solid #764ba2;border-radius:8px;outline:none;font-size:14px;transition:.2s ease}.styled-input:focus{border-color:#0b2447;box-shadow:0 0 4px #0b24474d}.styled-button{padding:10px 18px;background-color:#764ba2;color:#1f1a1a;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:.2s ease}.styled-button:hover{background-color:#d898f1}.privilege-flow-card{background:linear-gradient(135deg,#fff,#f8f9ff);padding:36px 28px;text-align:center;border-radius:16px}.flow-area{height:350px;overflow-y:auto;padding-right:6px;margin-top:10px;justify-content:center;align-items:center}.flow-icon{font-size:30px;color:#7b4bff;margin-bottom:20px;opacity:.94}.privilege-flow-empty p{font-size:19px;font-weight:500;color:#6b7280;margin:0}.inline-add-group>div{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.inline-input{flex:1;min-width:160px}.inline-btn{white-space:nowrap;padding:0 18px}.selected-permissions{display:flex;flex-wrap:wrap;gap:8px;padding:12px;background:var(--glass);border-radius:10px;min-height:48px;align-items:center}.perm-chip{background:var(--primary);color:#fff;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;display:flex;align-items:center;gap:8px}.perm-chip button{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%}.perm-chip button:hover{background:#ffffff4d}.permission-add-row{display:flex;gap:10px;flex-wrap:wrap}.dac-app{max-width:auto;margin:28px auto;padding:22px;background:linear-gradient(135deg,#4f46e5,#764ba2);box-shadow:0 6px 22px #0b24470f;border:1px solid var(--glass)}.topbar{background:#fff;border-radius:var(--radius);padding:1rem 1.5rem;margin:0 auto 1.5rem;box-shadow:0 8px 32px #0000001f;max-width:1100px;text-align:center;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center}.topbar>div:first-child{max-width:820px}.topbar h1{font-size:1.2rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 .4rem}.subtitle{font-size:.8rem;color:var(--muted);margin-bottom:0rem}.topbar>div>div[style*="background: #e3f2fd"]{display:inline-block;text-align:left;margin:0 auto}.topbar .reset-btn{position:absolute;top:1.2rem;right:1.2rem;z-index:10}@media (max-width: 768px){.topbar{padding:2rem 1.2rem}.topbar .reset-btn{position:static;margin-top:1rem}}.btn,.reset-btn,.undo-btn{border:none;padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:600;font-size:13.5px;box-shadow:0 3px 10px #0b244714;transition:all .2s ease}.btn:hover:not(:disabled),.reset-btn:hover,.undo-btn:hover{transform:translateY(-2px);box-shadow:0 6px 18px #0b244724}.btn:disabled{opacity:.55;cursor:not-allowed}.reset-btn{background:#ef4444;color:#fff}.btn.primary{background:linear-gradient(90deg,var(--primary),#18a38b);color:#fff}.btn.danger{background:linear-gradient(90deg,var(--danger),#cf4d4d);color:#fff}.btn.secondary{background:var(--glass);color:var(--accent);border:1px solid var(--border-light)}.undo-btn{background:#dbf8ff;border:1px solid #86e8ff;font-size:13px}.main-grid{display:grid;grid-template-columns:680px 1fr 360px;gap:22px;align-items:start}.left-col,.center-col,.right-col{display:flex;flex-direction:column;gap:22px;min-width:0}.card{background:#ebebeb!important;border-radius:var(--radius);padding:22px;box-shadow:0 6px 22px #0b24470f;border:1px solid var(--glass);transition:all .25s ease}.card:hover{box-shadow:0 12px 36px #0b24471a;transform:translateY(-4px)}.card.flow-card-area{background:linear-gradient(135deg,#fbfaff,#fff);height:auto;display:flex;flex-direction:column}.card.logs{background:linear-gradient(135deg,#fbfaff,#fff)}.page-nav{display:flex;background:#f1f3f7;border-radius:12px;padding:6px;margin-bottom:24px;box-shadow:inset 0 2px 8px #0000000f;overflow:hidden}.tab-btn{flex:1;padding:12px 16px;border:none;background:transparent;color:#555;font-weight:600;font-size:14px;border-radius:10px;cursor:pointer;transition:all .25s ease;position:relative;text-decoration:none;text-align:center}.tab-btn:hover{background:#20c0a41f;color:var(--primary)}.tab-btn.active{background:var(--primary);color:#fff;box-shadow:0 4px 12px #20c0a44d;font-weight:700}.page-nav a:hover{background:var(--glass);color:var(--accent)}.page-nav a.active{background:var(--primary);color:#fff}.form-row{margin-top:18px;display:flex;flex-direction:column;gap:8px}.form-row label{font-size:12.5px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.6px}.form-row select,.form-input{padding:11px 13px;border-radius:10px;border:1px solid var(--border-light);background:#fbfeff;font-size:14.5px;transition:all .2s}.form-row select:focus,.form-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px #20c0a42e}.form-row.two-col{display:grid;grid-template-columns:1fr 1fr;gap:14px}.grantee-inputs{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px}.or-text{color:var(--muted);font-weight:600;font-size:13px}.checkbox-wrapper{background:#f7f5ff;border:1px solid rgba(123,75,255,.32);padding:14px 18px;border-radius:12px;transition:border .2s}.checkbox-wrapper:hover{border-color:#7b4bff99}.checkbox{display:flex;align-items:center;gap:6px;flex-wrap:nowrap}.checkbox input{margin-right:6px}.grant-hint{white-space:nowrap;font-size:12px;color:#666}.explain{margin-top:12px;padding:12px 16px;background:var(--glass);border-left:4px solid var(--primary);border-radius:0 10px 10px 0;font-size:13.5px;color:var(--muted)}.explain.info{background:#eef6ff;border-left:none;color:#1e40af}.flow-card-area .flow-area{margin-top:14px;flex-grow:1;overflow-y:auto}.flow-wrapper{display:flex;flex-direction:column;gap:16px;max-width:600px;margin:0 auto}.flow-card{background:linear-gradient(90deg,#fbfbff,#fff);padding:16px;border-radius:14px;border:1px solid rgba(123,75,255,.1);transition:all .25s}.flow-card:hover{transform:translateY(-5px);box-shadow:0 12px 30px #0b24471a}.flow-top{display:flex;justify-content:space-between;align-items:center;gap:12px}.flow-actors{display:flex;align-items:center;gap:12px}.actor{padding:8px 16px;border-radius:12px;color:#fff;font-weight:700;font-size:13.5px}.actor.granter{background:linear-gradient(90deg,#7b4bff,#6a3ce6)}.actor.grantee{background:linear-gradient(90deg,#2bb69b,#20c0a4)}.arrow{font-size:1.6em;font-weight:900;color:#6b5bd9}.grant-badge{background:#20c0a426;color:var(--primary);padding:5px 12px;border-radius:999px;font-size:11.5px;font-weight:700}.flow-card.revoked{background:linear-gradient(90deg,#fff6f6,snow);border-color:#e25b5b40;opacity:.94}.flow-card.revoked .actor{background:linear-gradient(90deg,#e25b5b,#c44)}.flow-card.revoked .perm{text-decoration:line-through;color:#a33}.logs .log-area{max-height:420px;overflow-y:auto;padding:16px;background:#f4f6f8;border-radius:12px;border:1px solid #e1e4e8;display:flex;flex-direction:column;gap:12px}.log-entry{padding:10px 14px;background:#fff;border:1px solid #e1e4e8;border-radius:8px;font-family:SF Mono,Menlo,"monospace";font-size:13.5px;color:#333;line-height:1.5;display:flex;align-items:center;gap:12px;box-shadow:0 1px 3px #00000008;border-left-width:5px}.log-icon{font-size:16px}.log-message{color:#333;flex:1}.log-entry.log-success{background:#e6ffed;border-left-color:#28a745}.log-entry.log-success .log-icon{color:#28a745}.log-entry.log-fail{background:#ffe6e6;border-left-color:#dc3545}.log-entry.log-fail .log-icon{color:#dc3545}.log-entry.log-info{background:#eaf6ff;border-left-color:#17a2b8}.log-entry.log-info .log-icon{color:#17a2b8}.log-entry.log-revoke{background:#fff8e1;border-left-color:#ff9800}.log-entry.log-revoke .log-icon{color:#ff9800}.log-message .log-permission{font-weight:700;color:#6a0dad}.log-message .log-user{font-weight:600;color:#007bff}.log-message .log-object{font-weight:600;color:#8b4513}.data-access-view{background:#fff;border-radius:16px;padding:24px;box-shadow:0 8px 32px #0b244714;border:1px solid var(--glass);margin-top:12px}.data-access-view .controls{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:24px;align-items:end}.data-access-view .controls label{font-weight:600;font-size:13.5px;color:var(--muted);text-transform:uppercase;letter-spacing:.6px}.data-access-view .controls select{min-width:200px;padding:12px 16px;border:2px solid var(--border-light);border-radius:12px;background:#fbfeff;font-size:15px;font-weight:500;color:var(--accent);cursor:pointer;transition:all .2s}.data-access-view .controls select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px #20c0a42e}.data-table-container{position:relative;border-radius:16px;box-shadow:0 8px 28px #00000014;background:#fff}.access-denied-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:#fffffff7;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:1.4rem;font-weight:700;color:var(--danger);z-index:10;gap:12px;border-radius:16px}.data-table{width:100%;border-collapse:collapse;font-size:14.5px;background:#fff}.data-table th[data-col=email i],.data-table td[data-label=email i],.data-table th[data-col=Email i],.data-table td[data-label=Email i]{width:180px;max-width:220px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.data-table th.col-actions{width:160px;max-width:220px;text-align:right}.data-table td.action-buttons{width:160px;display:flex;justify-content:flex-end;gap:8px;white-space:nowrap}.data-table td.action-buttons button{flex-shrink:0}.data-table-scroll{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.data-table th{background:linear-gradient(135deg,var(--primary),#18a38b);color:#fff;padding:18px 20px;text-align:left;font-weight:600;text-transform:uppercase;font-size:12.5px;letter-spacing:.8px}.data-table td{padding:16px 20px;border-bottom:1px solid #f0f5f5;transition:background .2s}.data-table tr:hover td{background:#f8fffd}.data-table tbody tr:last-child td{border-bottom:none}.data-table td input{width:100%;padding:10px 12px;border:2px solid transparent;border-radius:10px;background:#f8fffd;font-size:14.5px;transition:all .2s}.data-table td input:focus{outline:none;border-color:var(--primary);background:#fff;box-shadow:0 0 0 3px #20c0a426}.btn-edit,.btn-delete,.btn-save,.btn-cancel{padding:8px 14px;border:none;border-radius:10px;font-size:12.5px;font-weight:600;cursor:pointer;margin-right:8px;transition:all .2s}.btn-edit{background:#fff3cd;color:#856404;border:1.5px solid #ffeaa7}.btn-edit:hover{background:#ffeaa7;transform:translateY(-1px)}.btn-delete{background:#ffeaea;color:#c53030;border:1.5px solid #feb2b2}.btn-delete:hover{background:#feb2b2;transform:translateY(-1px)}.btn-save{background:#d1fae5;color:#065f46;border:1.5px solid #a7f3d0}.btn-save:hover{background:#a7f3d0}.btn-cancel{background:#f1f3f4;color:#4a5568;border:1.5px solid #e2e8f0}.btn-cancel:hover{background:#e2e8f0}.btn-insert{margin-bottom:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 24px;border-radius:14px;font-weight:600;font-size:14.5px;box-shadow:0 6px 20px #667eea4d;z-index:10;transition:all .25s}.btn-insert:hover{transform:translateY(-3px);box-shadow:0 12px 28px #667eea66}@media (max-width: 768px){.data-access-view .controls{flex-direction:column;align-items:stretch}.data-access-view .controls select{min-width:auto}.btn-insert{position:static;margin-bottom:16px;width:100%}}@media (max-width: 600px){.data-table thead{display:none}.data-table,.data-table tbody,.data-table tr,.data-table td{display:block;width:100%}.data-table tr{margin-bottom:12px;border-radius:10px;background:#fff;box-shadow:0 6px 18px #0b24470a;padding:12px;border:1px solid rgba(11,36,71,.04)}.data-table td{padding:8px 12px;border:none;display:flex;justify-content:space-between;align-items:center;gap:12px}.data-table td:before{content:attr(data-label);font-weight:700;color:var(--muted);flex:0 0 45%;text-align:left;font-size:13px}.data-table td input{padding:8px 10px;font-size:14px}.action-buttons{display:flex;flex-direction:row;gap:8px;justify-content:flex-end;width:100%}.btn-insert.floating{position:static;top:unset;right:unset;width:100%;border-radius:10px;margin-bottom:12px}}.btn-insert.floating{position:absolute;top:-64px;right:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 15px;border-radius:16px;font-weight:600;font-size:15px;box-shadow:0 8px 25px #667eea4d;z-index:10;display:flex;align-items:center;gap:0px;transition:all .3s ease;border:none;cursor:pointer}.btn-insert.floating:hover:not(:disabled){transform:translateY(-4px);box-shadow:0 12px 32px #667eea66}.btn-insert.floating:disabled{opacity:.6;cursor:not-allowed;transform:none}.insert-icon{font-size:18px;font-weight:700}.data-table-container{position:relative;padding-top:20px}.action-buttons{white-space:nowrap}.action-buttons button{margin:0 4px}.next-btn{display:inline-block;padding:10px 18px;background:#1976d2;color:#fff;border-radius:8px;font-weight:600;text-decoration:none;transition:.25s ease;letter-spacing:.3px}.next-btn:hover{background:#0d47a1;transform:translateY(-1px)}.form-row{margin-top:16px}.back-btn{display:inline-block;padding:10px 18px;background:#0d47a1;color:#f7f0f0;border-radius:8px;font-weight:900;text-decoration:none;transition:.25s ease;letter-spacing:.3px}.back-btn:hover{background:#bdbdbd;transform:translateY(-1px)}.access-result-box.success{background:#e8f5e9;border-left:5px solid #43a047}.access-result-box.danger{background:#ffebee;border-left:5px solid #e53935}@media (max-width: 1200px){.main-grid{grid-template-columns:1fr}}.disabled-link{pointer-events:none;opacity:.5;cursor:not-allowed}.selectable-grid{display:flex;flex-direction:column;gap:14px}.selectable-grid label{font-size:13px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.7px}.items-container{display:flex;flex-wrap:wrap;gap:14px;padding:10px;background:#f1f3f766;border-radius:14px;border:1px solid var(--border-light)}.selectable-item{position:relative}.item-pill{width:210px;padding:12px 18px;border-radius:14px;border:2px solid #d2dfd2;background:#fff;cursor:pointer;transition:all .25s ease;box-shadow:0 2px 6px #0000000f;display:flex;align-items:center;gap:12px}.item-pill .avatar-icon{width:38px;height:38px;background:#e8f3fb;border-radius:50%;display:flex;align-items:center;justify-content:center}.item-pill .pill-text{display:flex;flex-direction:column}.item-pill .pill-title{font-size:15px;font-weight:700;color:#000}.item-pill .pill-subtitle{font-size:13px;font-weight:500;color:#2eaf56}.item-pill:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000001a;border-color:#0b3f17}input[type=radio]:checked+.item-pill,input[type=checkbox]:checked+.item-pill{background:#e9fdf3!important;color:#053b28!important;border-color:#067a4f!important;box-shadow:0 4px 12px #067a4f33!important;transform:translateY(-2px)!important}:root{--primary: #20c0a4;--accent: #0b2447;--bg: #f4f6fa;--glass: rgba(255, 255, 255, .45);--border: rgba(0, 0, 0, .08);--shadow-soft: 0 4px 18px rgba(0, 0, 0, .08);--shadow-strong: 0 6px 25px rgba(32, 192, 164, .35)}.navigation-wrapper{width:100%;padding:1rem 0;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);background:var(--glass);border-bottom:1px solid var(--border);box-shadow:var(--shadow-soft);position:sticky;top:0;z-index:20}.navigation-buttons{display:flex;gap:1.2rem;justify-content:center}.nav-btn{padding:0 2rem;height:48px;line-height:48px;border-radius:30px;background:#fff;border:2px solid transparent;font-weight:600;text-decoration:none;color:var(--accent);font-size:1rem;transition:all .3s ease;box-shadow:0 2px 10px #00000012;min-width:150px;text-align:center}.nav-btn:hover{transform:translateY(-3px);box-shadow:0 6px 15px #00000026}.nav-btn-active{background:var(--primary);color:#fff;border-color:var(--primary);transform:translateY(-3px);box-shadow:var(--shadow-strong)}.nav-btn-outline{background:#fff;border-color:#20c0a433}html,body,#root{height:100%;width:100%;margin:0;padding:0;background-color:var(--bg);color:var(--text);font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}.app{padding:24px;max-width:1400px;margin:0 auto}.header{margin-bottom:16px}.header h1{margin:0 0 6px;font-size:20px}.header p{margin:0;color:var(--muted);font-size:14px}.grid{display:grid;grid-template-columns:1.1fr 1fr 1.1fr;gap:16px}.card{background:var(--bg);border:1px solid var(--border);border-radius:12px;overflow:hidden}.card-header{padding:16px 16px 8px;border-bottom:1px solid var(--border)}.card-title{font-weight:600;font-size:16px;margin-bottom:4px}.card-description{color:var(--muted);font-size:13px}.card-content{padding:16px}.row{display:flex;gap:8px;align-items:center}.col{display:flex;flex-direction:column;gap:8px}.input,.select{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:var(--text);outline:none}.input:focus,.select:focus{border-color:var(--primary);box-shadow:0 0 0 2px #2563eb33}.checkbox{width:16px;height:16px}.label{color:var(--muted);font-size:12px}.button{background:var(--primary);color:#fff;border:none;padding:10px 12px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;font-weight:500}.button:disabled{opacity:.5;cursor:not-allowed}.button.secondary{background:var(--panel);color:var(--text);border:1px solid var(--border)}.button.ghost{background:transparent;color:var(--muted);border:1px solid transparent}.button.ghost:hover{background:var(--panel);color:var(--text)}.badge{display:inline-flex;align-items:center;background:var(--panel-2);border:1px solid var(--border);color:var(--text);border-radius:9999px;font-size:12px;padding:4px 8px}.badge.secondary{background:var(--panel)}.divider{height:1px;background:var(--border)}.list{display:flex;flex-direction:column;gap:8px}.role-item,.user-item{border:1px solid var(--border);border-radius:10px;padding:12px;background:var(--panel)}.role-head,.user-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.helper{color:var(--muted);font-size:12px}.muted{color:var(--muted)}.code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,monospace;background:var(--panel-2);border:1px solid var(--border);padding:3px 6px;border-radius:6px}.result{border:2px solid;border-radius:12px;padding:12px}.result.granted{border-color:var(--green);background:#16a34a0d}.result.denied{border-color:var(--red);background:#dc26260d}.info{background:#3b82f61a;border:1px solid rgba(59,130,246,.2);padding:12px;border-radius:10px;color:#2563eb}.warn{background:#f59e0b1a;border:1px solid rgba(245,158,11,.2);padding:8px 10px;border-radius:8px;color:#d97706}.note{background:var(--panel);border:1px solid var(--border);padding:8px 10px;border-radius:8px}
